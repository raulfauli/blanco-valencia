---
import { getCollection } from "astro:content";
import HeaderBar from "../../components/HeaderBar.astro";
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
	const allFortalezas = await getCollection("fortalezas");
	return allFortalezas.map((fortaleza) => ({
		params: { slug: fortaleza.id },
		props: { fortaleza },
	}));
}

const { fortaleza } = Astro.props;
---

<Layout title={fortaleza.data.title}>
	<HeaderBar />
	<div class="container">
		<div id="fortaleza-card" class="mb-12 border-2 border-black bg-white/40">
			<div class="grid grid-cols-2 gap-0">
				<!-- Image Side -->
				<div class="relative">
					<img
						id="fortaleza-image"
						src={fortaleza.data.image}
						alt={fortaleza.data.title}
						class="h-full min-h-[500px] w-full object-cover grayscale"
					/>
				</div>

				<!-- Content Side -->
				<div class="flex flex-col justify-center p-16 sm:p-6 md:p-8 lg:p-12">
					<div class="mb-8 text-sm font-bold tracking-widest text-gray-600 uppercase">Fortaleza</div>
					<h2
						id="fortaleza-title"
						class="mb-8 text-6xl font-black tracking-tight uppercase sm:text-3xl md:text-4xl lg:text-5xl"
					>
						{fortaleza.data.title}
					</h2>
					<p id="fortaleza-description" class="text-xl leading-relaxed text-gray-800 md:text-base lg:text-lg">
						{fortaleza.data.description}
					</p>
				</div>
			</div>
		</div>
	</div>
</Layout>
